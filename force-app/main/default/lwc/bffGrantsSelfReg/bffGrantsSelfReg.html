<template>
    <div lang={langTag}>
        
        <div if:true={showSpinner}>
            <lightning-spinner alternative-text="Registering" size="medium"></lightning-spinner>
        </div>

        <div if:true={dataLoaded}>

            <!-- Language picker -->
            <div class="slds-global-header__item">
                <lightning-combobox
                    id="langCombobox"
                    class="language-font"
                    data-id="select"
                    variant="label-hidden"
                    label={transByNameObj.LanguageSelector}
                    options={options}
                    value={language}
                    onchange={handleLanguagePicker}>
                </lightning-combobox>
            </div>

            <div if:true={showForm}>

                <div class="slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-grid_align-center">
                    <div class="slds-col slds-text-align_center">
                        <h1>Grants Site Registration</h1>
                    </div>
                    <div class="slds-col slds-text-align_center">
                        <p>Enter your organization's name and an organizational email for receiving messages.</p>
                    </div>
                </div>

                <div class="gfw-input-width">
                    <div class="slds-m-bottom_x-small">
                        <lightning-input
                            label="Organization Name"
                            onchange={handleGroupName}
                            placeholder="Organization Name"
                            data-id="orgName"  
                            type="text" 
                            required="true" 
                            max-length="120"
                            value={groupName}
                        ></lightning-input>
                    </div>
                    <div class="slds-m-bottom_x-small">
                        <lightning-input
                            label="Organization Email"
                            placeholder="Organization Email"
                            onchange={handleEmail}
                            type="email"
                            required="true" 
                            max-length="80"
                            class="email-input"
                            value={email}
                        ></lightning-input>
                    </div>
                </div>
                <div class="slds-m-bottom_medium">
                    <lightning-button 
                        class="slds-align_absolute-center"
                        variant="brand" 
                        label="Register for Grants Site" 
                        disabled={registerDisabled}
                        onclick={handleRegister}>
                    </lightning-button>
                </div>
            </div>

            <div if:true={showSuccess}>
                <div class="slds-illustration slds-illustration_small">           
                    <div class="slds-text-longform">
                        <h3 class="slds-text-heading_medium">Success! Now, check your email.</h3>
                        <p class="slds-text-body_regular">Check your email for instructions on setting up your password. Remember to look in your spam folder, where automated messages sometimes filter.</p>
                    </div>
                </div>
            </div>

            <div if:true={showFailure}>
                <div class="slds-illustration slds-illustration_small">
                    <div class="slds-text-longform">
                        <h3 class="slds-text-heading_medium">Error! There was a problem with your registration. Please try again later.</h3>
                    </div>
                </div>
            </div>
            
        </div> <!-- data loaded -->
    </div> <!-- LangTag-->
</template>